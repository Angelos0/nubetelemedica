
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation Wizard &mdash; ownCloud Server Administration Manual 8.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '8.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <link rel="top" title="ownCloud Server Administration Manual 8.2 documentation" href="../index.html" />
    <link rel="up" title="Installation" href="index.html" />
    <link rel="next" title="Installing ownCloud From the Command Line" href="command_line_installation.html" />
    <link rel="prev" title="Preferred Linux Installation Method" href="linux_installation.html" />
<script type="text/javascript">
(function () {
  /**
   * Patch TOC list.
   *
   * Will mutate the underlying span to have a correct ul for nav.
   *
   * @param $span: Span containing nested UL's to mutate.
   * @param minLevel: Starting level for nested lists. (1: global, 2: local).
   */
  var patchToc = function ($ul, minLevel) {
    var findA;

    // Find all a "internal" tags, traversing recursively.
    findA = function ($elem, level) {
      var level = level || 0,
        $items = $elem.find("> li > a.internal, > ul, > li > ul");

      // Iterate everything in order.
      $items.each(function (index, item) {
        var $item = $(item),
          tag = item.tagName.toLowerCase(),
          pad = 15 + ((level - minLevel) * 10);

        if (tag === 'a' && level >= minLevel) {
          // Add to existing padding.
          $item.css('padding-left', pad + "px");
          console.log(level, $item, 'padding-left', pad + "px");
        } else if (tag === 'ul') {
          // Recurse.
          findA($item, level + 1);
        }
      });
    };

    console.log("HERE");
    findA($ul);
  };

  $(document).ready(function () {
    // Add styling, structure to TOC's.
    $(".dropdown-menu").each(function () {
      $(this).find("ul").each(function (index, item){
        var $item = $(item);
        $item.addClass('unstyled');
      });
      $(this).find("li").each(function () {
        $(this).parent().append(this);
      });
    });

    // Patch in level.
    patchToc($("ul.globaltoc"), 2);
    patchToc($("ul.localtoc"), 2);

    // Enable dropdown.
    $('.dropdown-toggle').dropdown();
  });
}());
</script>

  </head>
  <body>
  

<div class="container">
  <div class="content">
    <div class="page-header">
      <h1><a href="../contents.html">ownCloud Server Administration Manual</a></h1>

    </div>
    
			<div class="row">
				<div class="span3">
					<div class="sidebar">
						<div class="well">
							<div class="menu-support-container">
								<ul id="menu-support" class="menu">
									<ul>
										
<li><a href="../contents.html">Table of Contents</a></li>
									</ul>
                  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">ownCloud 8.2 Server Administration Manual Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">ownCloud 8.2 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new_admin.html">What&#8217;s New for Admins in ownCloud 8.2</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="system_requirements.html">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux_installation.html">Preferred Linux Installation Method</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Installation Wizard</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-directory-location">Data Directory Location</a></li>
<li class="toctree-l3"><a class="reference internal" href="#database-choice">Database Choice</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trusted-domains">Trusted Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-strong-directory-permissions">Setting Strong Directory Permissions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="command_line_installation.html">Installing ownCloud From the Command Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps_management_installation.html">Installing and Managing Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="source_installation.html">Manual Installation on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="appliance_installation.html">ownCloud Community Appliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="php_54_installation.html">Installing PHP 5.4 on RHEL 6 and CentOS 6</a></li>
<li class="toctree-l2"><a class="reference internal" href="selinux_configuration.html">SELinux Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx_configuration.html">Nginx Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ucs_installation.html">Univention Corporate Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="hiawatha_configuration.html">Hiawatha Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="yaws_configuration.html">Yaws Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="macos_installation.html">Mac OS X</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_server/index.html">ownCloud Server Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_user/index.html">User Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_files/index.html">File Sharing and Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_database/index.html">Database Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_mimetypes/index.html">Mimetypes Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/index.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/index.html">Issues and Troubleshooting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_installation/index.html">Enterprise Subscription Installation (ES Only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_clients/index.html">Creating Branded ownCloud Clients (ES only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_server_branding/index.html">Enterprise Server Branding (ES only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_external_storage/index.html">External Storage (ES only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_user_management/index.html">User Management (ES only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise_files_drop/index.html">Enabling Anonymous Uploads with Files Drop (ES Only)</a></li>
</ul>

								</ul>
							</div>
						</div>
					</div>
				</div>
        

				<div class="span9">
					<div class="page-content">
						
  <div class="section" id="installation-wizard">
<h1>Installation Wizard<a class="headerlink" href="#installation-wizard" title="Permalink to this headline">¶</a></h1>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<p>When ownCloud prerequisites are fulfilled and all ownCloud files are installed,
the last step to completing the installation is running the Installation
Wizard.
This is just three steps:</p>
<ol class="arabic simple">
<li>Point your Web browser to <tt class="docutils literal"><span class="pre">http://localhost/owncloud</span></tt></li>
<li>Enter your desired administrator&#8217;s username and password.</li>
<li>Click <strong>Finish Setup</strong>.</li>
</ol>
<div class="figure">
<a class="reference internal image-reference" href="../_images/install-wizard.png"><img alt="screenshot of the installation wizard" src="../_images/install-wizard.png" style="width: 276.0px; height: 511.5px;" /></a>
</div>
<p>You&#8217;re finished and can start using your new ownCloud server.</p>
<p>Of course, there is much more that you can do to set up your ownCloud server
for
best performance and security. In the following sections we will cover
important
installation and post-installation steps. Note that you must follow the
instructions in <a class="reference internal" href="#label-setting-strong-perms"><em>Setting Strong Permissions</em></a>
in order to use the <a class="reference internal" href="../configuration_server/occ_command.html"><em>occ Command</em></a>.</p>
<ul class="simple">
<li><a class="reference internal" href="#label-data-directory-location"><em>Data Directory Location</em></a></li>
<li><a class="reference internal" href="#label-database-choice"><em>Database Choice</em></a></li>
<li><a class="reference internal" href="#label-trusted-domains"><em>Trusted Domains</em></a></li>
<li><a class="reference internal" href="#label-setting-strong-perms"><em>Setting Strong Permissions</em></a></li>
</ul>
</div>
<div class="section" id="data-directory-location">
<span id="label-data-directory-location"></span><h2>Data Directory Location<a class="headerlink" href="#data-directory-location" title="Permalink to this headline">¶</a></h2>
<p>Click <strong>Storage and Database</strong> to expose additional installation configuration
options for your ownCloud data directory and database options.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/install-wizard-2.png"><img alt="screenshot of the installation wizard with all options exposed" src="../_images/install-wizard-2.png" style="width: 231.75px; height: 520.5px;" /></a>
</div>
<p>You should locate your ownCloud data directory outside of your Web root if you
are using an HTTP server other than Apache, or you may wish to store your
ownCloud data in a different location for other reasons (e.g. on a storage
server). It is best to configure your data directory location at installation,
as it is difficult to move after installation. You may put it anywhere; in this
example is it located in <tt class="docutils literal"><span class="pre">/var/oc_data</span></tt>. This directory must already exist,
and must be owned by your HTTP user (see <a class="reference internal" href="#label-setting-strong-perms"><em>Setting Strong Directory Permissions</em></a>).</p>
</div>
<div class="section" id="database-choice">
<span id="label-database-choice"></span><h2>Database Choice<a class="headerlink" href="#database-choice" title="Permalink to this headline">¶</a></h2>
<p>SQLite is the default database for ownCloud Server (it is not
available and not supported in the Enterprise edition), and it is good only for
testing and lightweight single-user setups without client synchronization.
Supported databases are MySQL, MariaDB, Oracle 11g, and PostgreSQL, and we
recommend <a class="reference internal" href="../release_notes.html"><em>MySQL/MariaDB</em></a>. Your database and PHP
connectors must be installed before you run the Installation Wizard. When you
install ownCloud from packages all the necessary dependencies will be satisfied
(see <a class="reference internal" href="source_installation.html"><em>Manual Installation on Linux</em></a> for a detailed listing of required and optional
PHP modules). You will need the root database login, or any administrator login
that has permissions to create and modify databases, and then enter any name
you
want for your ownCloud database.</p>
<p>Click Finish Setup, and start using your new ownCloud server.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/install-wizard-3.png"><img alt="screenshot of the welcome screen after a successful installation" src="../_images/install-wizard-3.png" style="width: 375.0px; height: 240.75px;" /></a>
</div>
<p>Now we will look at some important post-installation steps.</p>
</div>
<div class="section" id="trusted-domains">
<span id="label-trusted-domains"></span><h2>Trusted Domains<a class="headerlink" href="#trusted-domains" title="Permalink to this headline">¶</a></h2>
<p>All URLs used to access your ownCloud server must be whitelisted in your
<tt class="docutils literal"><span class="pre">config.php</span></tt> file, under the <tt class="docutils literal"><span class="pre">trusted_domains</span></tt> setting. Users
are allowed to log into ownCloud only when they point their browsers to a
URL that is listed in the <tt class="docutils literal"><span class="pre">trusted_domains</span></tt> setting. You may use IP addresses
and domain names. A typical configuration looks like this:</p>
<div class="highlight-python"><pre>'trusted_domains' =&gt;
  array (
   0 =&gt; 'localhost',
   1 =&gt; 'server1.example.com',
   2 =&gt; '192.168.1.50',
),</pre>
</div>
<p>The loopback address, <tt class="docutils literal"><span class="pre">127.0.0.1</span></tt>, is automatically whitelisted, so as long
as you have access to the physical server you can always log in. In the event
that a load balancer is in place there will be no issues as long as it sends
the correct X-Forwarded-Host header. When a user tries a URL that
is not whitelisted the following error appears:</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/untrusted-domain.png"><img alt="screenshot of error message when URL is not whitelisted in trusted_domains" src="../_images/untrusted-domain.png" style="width: 725.25px; height: 272.25px;" /></a>
</div>
</div>
<div class="section" id="setting-strong-directory-permissions">
<span id="strong-perms"></span><span id="label-setting-strong-perms"></span><h2>Setting Strong Directory Permissions<a class="headerlink" href="#setting-strong-directory-permissions" title="Permalink to this headline">¶</a></h2>
<p>For hardened security we recommend setting the permissions on your ownCloud
directories as strictly as possible, and for proper server operations. This
should be done immediately after the initial installation. Your HTTP user must
own the <tt class="docutils literal"><span class="pre">config/</span></tt>, <tt class="docutils literal"><span class="pre">data/</span></tt> and <tt class="docutils literal"><span class="pre">apps/</span></tt> directories so that you can
configure ownCloud, create, modify and delete your data files, and install apps
via the ownCloud Web interface.</p>
<p>You can find your HTTP user in your HTTP server configuration files. Or you can
use <a class="reference internal" href="../issues/index.html#label-phpinfo"><em>PHP Version and Information</em></a> (Look for the <strong>User/Group</strong> line).</p>
<ul class="simple">
<li>The HTTP user and group in Debian/Ubuntu is <tt class="docutils literal"><span class="pre">www-data</span></tt>.</li>
<li>The HTTP user and group in Fedora/CentOS is <tt class="docutils literal"><span class="pre">apache</span></tt>.</li>
<li>The HTTP user and group in Arch Linux is <tt class="docutils literal"><span class="pre">http</span></tt>.</li>
<li>The HTTP user in openSUSE is <tt class="docutils literal"><span class="pre">wwwrun</span></tt>, and the HTTP group is <tt class="docutils literal"><span class="pre">www</span></tt>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using an NFS mount for the data directory, do not change its
ownership from the default. The simple act of mounting the drive will set
proper permissions for ownCloud to write to the directory. Changing
ownership as above could result in some issues if the NFS mount is
lost.</p>
</div>
<p>The easy way to set the correct permissions is to copy and run this script.
Replace the <tt class="docutils literal"><span class="pre">ocpath</span></tt> variable with the path to your ownCloud directory, and
replace the <tt class="docutils literal"><span class="pre">htuser</span></tt> and <tt class="docutils literal"><span class="pre">htgroup</span></tt> variables with your HTTP user and group:</p>
<div class="highlight-python"><pre>#!/bin/bash
ocpath='/var/www/owncloud'
htuser='www-data'
htgroup='www-data'
rootuser='root' # On QNAP this is admin

find ${ocpath}/ -type f -print0 | xargs -0 chmod 0640
find ${ocpath}/ -type d -print0 | xargs -0 chmod 0750

chown -R ${rootuser}:${htgroup} ${ocpath}/
chown -R ${htuser}:${htgroup} ${ocpath}/apps/
chown -R ${htuser}:${htgroup} ${ocpath}/config/
chown -R ${htuser}:${htgroup} ${ocpath}/data/
chown -R ${htuser}:${htgroup} ${ocpath}/themes/

chown ${rootuser}:${htgroup} ${ocpath}/.htaccess
chown ${rootuser}:${htgroup} ${ocpath}/data/.htaccess

chmod 0644 ${ocpath}/.htaccess
chmod 0644 ${ocpath}/data/.htaccess</pre>
</div>
<p>If you have customized your ownCloud installation and your filepaths are
different than the standard installation, then modify this script accordingly.</p>
<p>This lists the recommended modes and ownership for your ownCloud directories
and files:</p>
<ul class="simple">
<li>All files should be read-write for the file owner, read-only for the
group owner, and zero for the world</li>
<li>All directories should be executable (because directories always need the
executable bit set), read-write for the directory owner, and read-only for
the group owner</li>
<li>The <tt class="file docutils literal"><span class="pre">apps/</span></tt> directory should be owned by <tt class="docutils literal"><span class="pre">[HTTP</span> <span class="pre">user]:[HTTP</span> <span class="pre">group]</span></tt></li>
<li>The <tt class="file docutils literal"><span class="pre">config/</span></tt> directory should be owned by <tt class="docutils literal"><span class="pre">[HTTP</span> <span class="pre">user]:[HTTP</span> <span class="pre">group]</span></tt></li>
<li>The <tt class="file docutils literal"><span class="pre">themes/</span></tt> directory should be owned by <tt class="docutils literal"><span class="pre">[HTTP</span> <span class="pre">user]:[HTTP</span> <span class="pre">group]</span></tt></li>
<li>The <tt class="file docutils literal"><span class="pre">data/</span></tt> directory should be owned by <tt class="docutils literal"><span class="pre">[HTTP</span> <span class="pre">user]:[HTTP</span> <span class="pre">group]</span></tt></li>
<li>The <tt class="file docutils literal"><span class="pre">[ocpath]/.htaccess</span></tt> file should be owned by <tt class="docutils literal"><span class="pre">root:[HTTP</span> <span class="pre">group]</span></tt></li>
<li>The <tt class="file docutils literal"><span class="pre">data/.htaccess</span></tt> file should be owned by <tt class="docutils literal"><span class="pre">root:[HTTP</span> <span class="pre">group]</span></tt></li>
<li>Both <tt class="file docutils literal"><span class="pre">.htaccess</span></tt> files are read-write file owner, read-only group and
world</li>
</ul>
</div>
</div>


					</div>
				</div>
			</div>
    
  </div>
</div>
  </body>
</html>